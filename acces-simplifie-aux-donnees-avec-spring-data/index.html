<!DOCTYPE html>
<html>
  <head>
    
    <meta charset="utf-8">
    <title>Accès simplifié aux données avec Spring data</title>
    <meta name="author" content="">
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
    <link rel="shortcut icon" href="../favicon.ico">
    
    <!-- Le styles -->
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
    <link href="../assets/css/style.css?v=fd7131b9d6" rel="stylesheet">
    <link href="../assets/css/syntax.css?v=fd7131b9d6" rel="stylesheet">
    
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>

    <!-- Le theme options -->
    <script type="text/javascript" src="../options.js"></script>
    <script type="text/javascript" src="../assets/js/siteOptions.js?v=fd7131b9d6"></script>
    
    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Komi Serge Innocent" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Accès simplifié aux données avec Spring data" />
    <meta property="og:description" content="Présentation de spring data Spring data est un projet cadre dont le but est de réduire la complexité des couches d&#x27;accès aux données.Il contient un portfolio de projets  permettant d&#x27;adresser au mieux chaque type de base de données, allant..." />
    <meta property="og:url" content="http://localhost:2368/acces-simplifie-aux-donnees-avec-spring-data/" />
    <meta property="article:published_time" content="2014-09-18T10:36:00.000Z" />
    <meta property="article:modified_time" content="2016-02-04T10:42:51.549Z" />
    <meta property="article:tag" content="java" />
    <meta property="article:tag" content="spring" />
    <meta property="article:tag" content="spring data" />
    <meta property="article:tag" content="base de données" />
    <meta property="article:tag" content="dao" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Accès simplifié aux données avec Spring data" />
    <meta name="twitter:description" content="Présentation de spring data Spring data est un projet cadre dont le but est de réduire la complexité des couches d&#x27;accès aux données.Il contient un portfolio de projets  permettant d&#x27;adresser au mieux chaque type de base de données, allant..." />
    <meta name="twitter:url" content="http://localhost:2368/acces-simplifie-aux-donnees-avec-spring-data/" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Komi Serge Innocent",
    "author": {
        "@type": "Person",
        "name": "Komi Serge Innocent",
        "image": "http://www.gravatar.com/avatar/0f6e262f82d057e17d5faa2aaf4a9a50",
        "url": "http://localhost:2368/author/centonni",
        "sameAs": "https://github.com/Centonni",
        "description": "Développeur java/java EE | Formateur pour @objisci | Open source "
    },
    "headline": "Accès simplifié aux données avec Spring data",
    "url": "http://localhost:2368/acces-simplifie-aux-donnees-avec-spring-data/",
    "datePublished": "2014-09-18T10:36:00.000Z",
    "dateModified": "2016-02-04T10:42:51.549Z",
    "keywords": "java, spring, spring data, base de données, dao",
    "description": "Présentation de spring data Spring data est un projet cadre dont le but est de réduire la complexité des couches d&#x27;accès aux données.Il contient un portfolio de projets  permettant d&#x27;adresser au mieux chaque type de base de données, allant..."
}
    </script>

    <meta name="generator" content="Ghost 0.7" />
    <link rel="alternate" type="application/rss+xml" title="Komi Serge Innocent" href="../rss.1" />
    
    <style id="dbyll-options"></style>

    <script type="text/javascript"> siteOptions.setStyles(); </script>
  </head>
  <body class="post-template tag-java tag-spring tag-spring-data tag-base-de-donnees tag-dao">
    <nav class="navbar navbar-default visible-xs" role="navigation">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header" id="mobile-contact-list">
        
        <a class="navbar-brand" href="../index.html">
          <img src="https://avatars0.githubusercontent.com/u/1955872?v=3&amp;u=c38e665f38413fd3b17aaa14428d453ca9b455c2&amp;s=140" class="img-circle" style="width: 35px; height: 35px">
          Komi Serge Innocent
        </a>
      </div>

    </nav>

      <div class="col-sm-3 sidebar hidden-xs">
        <header class="sidebar-header" role="banner">
          <a href="../index.html">
            <img src="https://avatars0.githubusercontent.com/u/1955872?v=3&amp;u=c38e665f38413fd3b17aaa14428d453ca9b455c2&amp;s=140" class="img-circle" />
          </a>
          <h3 class="title">
            <a href="../index.html">Komi Serge Innocent</a>
          </h3>
        </header>

        <div id="bio" class="text-center">
          Développeur java/java EE | Formateur pour @objisci | Enthousiaste de l&#x27;Open source et de l&#x27;économie du libre | All things about java,spring,groovy
        </div>

        <div id="contact-list" class="text-center">
          <ul class="list-unstyled list-inline" id="contact-list-primary"></ul> <!-- filled with js -->
          <ul id="contact-list-secondary" class="list-unstyled list-inline"> <!-- filled with js -->
            <li>
              <a class="btn btn-default btn-sm" href="../rss.1">
                <i class="fa fa-rss fa-lg"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
      

      <div class="col-sm-9 col-sm-offset-3">
        

<main class="content">
  <article class="post tag-java tag-spring tag-spring-data tag-base-de-donnees tag-dao">

    <section class="page-header">
      <h1 class="post-title">Accès simplifié aux données avec Spring data</h1>
    </section>

    <section class="post-date">
      <time datetime="2014-09-18">18 Sep 2014</time>
    </section>

    <div class="col-sm-10 article_body">
      <section class="post-content">
        <h3 id="prsentationdespringdata">Présentation de spring data</h3>

<p><a href="http://projects.spring.io/spring-data">Spring data</a> est un projet cadre dont le but est de réduire la complexité des couches d'accès
aux données.Il contient un <a href="http://projects.spring.io/spring-data/#toc_0">portfolio de projets</a> <br />
permettant d'adresser au mieux chaque type de base de données, allant des bases de données relationnelles à ceux de la mouvance NoSql. <br />
Il permet notamment de s'affranchir de l'implémentation du pattern <br />
<a href="http://fr.wikipedia.org/wiki/Objet_d'acc%C3%A8s_aux_donn%C3%A9es">DAO</a> utilisé dans la plupart des projets pour encapsuler l'accés aux
données.</p>

<h3 id="leproblmeaveclesdaohttpwwworaclecomtechnetworkjavadataaccessobject138824html">Le problème avec les <a href="http://www.oracle.com/technetwork/java/dataaccessobject-138824.html">DAO</a></h3>

<p>Alors, c'est bien beau, on veut s'affranchir de l'implémentation des DAO, mais quel est au juste le problème avec les DAO et dont <br />
spring data nous offre la solution? Eh bien si vous avez jamais développé une application avec accès aux bases de données, vous avez <br />
sans doute souffert de l'écriture des méthodes permettant d'effectuer des opérations sur les bases de données, les fameux CRUD <br />
(Create,Read,Update,Delete), des plus simples au plus complexes. Pour chaque entité(représentant une table dans la base de données), il faut
écrire les méthodes d'accés au bases qui pour la plupart à des différences près se ressemblent toutes. Ce qui fait qu'un des problèmes
majeur au niveau des DAO est le code répétitif que celà implique.</p>

<p>Un exemple de DAO :  </p>

<pre><code class="language-prettyprint">    @Override
    public List&lt;Speaker&gt; findAll() {
        return em.createQuery("select s from Speaker s",
                 Speaker.class).getResultList();
    }

    @Override
    public List&lt;Speaker&gt; findByLastname(String lastname, int page, int pageSize) {
        TypedQuery&lt;Speaker&gt; query = em.createQuery("select s from Speaker s
                where s.lastname = ?1", Speaker.class);

        query.setParameter(1, lastname);
        query.setFirstResult(page * pageSize);
        query.setMaxResults(pageSize);

        return query.getResultList();
    }
</code></pre>

<p>Cet exemple est tiré du code présenté lors de ma présentation de spring data lors du <a href="http://jcertif.com/cotedivoire/">JCertif Abidjan 2014</a>.</p>

<h2 id="lasolutiondespringdata">La solution de spring data</h2>

<p>Dans l'exemple précédent,à part les requêtes d'interrogation de la base de données, le traitement est pareil <br />
quelque soit la méthode d'accès aux données: récupération des résultats de la requêtes, traitements(pagination et autre..) retour du <br />
résultat. Dans une moindre mesure les requêtes aussi peuvent comporter des parties redondantes mis à part les noms des entités. Et <br />
lorsque les requêtes deviennent de plus en plus complexe,le développeur perd du temps sur le code d'accés aux données que de <br />
se concentrer sur la logique métier de son application.</p>

<p>Avec spring data, le code présenté plus haut revient à ceci:  </p>

<pre><code class="language-prettyprint">public interface SpeakerRepository extends CrudRepository&lt;Speaker, Long&gt;{  
    Page&lt;Speaker&gt; findByLastname(String lastname, Pageable pageable);
}
</code></pre>

<p>Euh...c'est tout? Vous vous demandez sûrement si je me moque de vous n'est-ce pas? En fait, c'est tout, spring data nous permet de <br />
faire abstraction de l'implémentation de nos DAO, c'est là toute la magie de spring data, il s'occupe de générer le code pour nous!Les <br />
méthodes basique de CRUD sont intégrés dans l'api de spring data, ce qui explique que nous ayons juste une seule méthode dans le code <br />
maintenant.</p>

<p>Grosso modo, spring data permet d'éviter les codes répétitifs ds DAO,écrire facilement des requêtes d'accès aux données complexe, <br />
permet une bonne gestion de la pagination et surtout, facilite la vie des développeurs avec un peu de magie en rendant le code plus <br />
simple,facile à tester.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Ce post est juste une introduction à spring data, une petite ouverture sur ce qu'il est possible de faire avec. Je vous prépare bientôt <br />
une série de tutoriels pour sa prise en main, on est ensemble ;)</p>

<p>Mais déjà, voici une liste de ressources pour en savoir plus sur ce magnifique projet :</p>

<p><a href="http://docs.spring.io/spring-data/jpa/docs/1.7.0.RELEASE/reference/html/">spring data doc</a>,
<a href="http://spring.io/guides/gs/accessing-data-jpa/">spring data guide</a>,
<a href="https://github.com/Centonni/jcertif2014-spring-data">ma présenation sur github</a>.</p>
      </section>

      <section class="tags">
        <i class="fa fa-tags"></i>
        <a href="../tag/java/index.html">java</a>, <a href="../tag/spring/index.html">spring</a>, <a href="../tag/spring-data/index.html">spring data</a>, <a href="../tag/base-de-donnees/index.html">base de données</a>, <a href="../tag/dao/index.html">dao</a>
      </section>

      <hr/>

      <div>
        <section class="share col-sm-6">
          <h4 class="section-title">Share Post</h4>
          <a class="btn btn-default btn-sm" href="http://twitter.com/share?text=Acc%C3%A8s%20simplifi%C3%A9%20aux%20donn%C3%A9es%20avec%20Spring%20data&url=http://localhost:2368/acces-simplifie-aux-donnees-avec-spring-data/"
             onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
            <i class="fa fa-twitter fa-lg"></i>
            Twitter
          </a>
          <a class="btn btn-default btn-sm" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/acces-simplifie-aux-donnees-avec-spring-data/"
             onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
            <i class="fa fa-facebook fa-lg"></i>
            Facebook
          </a>
          <a class="btn btn-default btn-sm" href="https://plus.google.com/share?url=http://localhost:2368/acces-simplifie-aux-donnees-avec-spring-data/"
             onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
            <i class="fa fa-google-plus fa-lg"></i>
            Google+
          </a>
        </section>

        <section class="col-sm-6 author">
          <img src="http://www.gravatar.com/avatar/0f6e262f82d057e17d5faa2aaf4a9a50" class="img-rounded author-image" />
          <h4 class="section-title author-name">Komi Serge Innocent</h4>
          <p class="author-bio">Développeur java/java EE | Formateur pour @objisci | Open source </p>
        </section>
      </div>

      <div class="clearfix"></div>

      <section class="comments" style="margin-top:15px;">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = site.disqus.shortname; // required: replace example with your forum shortname
          if(disqus_shortname){
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          }
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </section>
    </div>

    <div class="clearfix"></div>

  </article>
</main>



        <footer class="site-footer">
          <hr/>
          <div class="inner">
            <section class="copyright">
              <a href="../index.html">Komi Serge Innocent</a> &copy; 2016
              with <a href="index.html#">dbyll</a> theme on <a class="icon-ghost" href="http://ghost.org">Ghost</a>.
            </section>
          </div>
        </footer>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>  
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/locale/fr.js"></script>
<script type="text/javascript">  
$(document).ready(function () {
  moment.locale('fr');

  $('.post-date').each(function (i, date) {
    var $date = $(date);

    $date.html(
      moment($date.attr('datetime'))
        .format('LLL')
    );
  });
});
</script>
      </div>
      
      <div class="clearfix"></div>

      <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="../assets/js/app.js?v=fd7131b9d6"></script>
      <script type="text/javascript" src="../assets/js/run_prettify.js?v=fd7131b9d6"></script>
      <script>
        if(site.analyticsTrackId){
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                                  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', site.analyticsTrackId);
          ga('send', 'pageview');
        }
      </script>
    </body>
  </html>
